<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: modules/producto.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: modules/producto.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { EUR } from "../utils/utils.js";

/**
 * Representa un objeto comprable en el mercado con estadísticas específicas.
 * @class
 */
export class Producto{
    nombre;
    precio;
    rareza;
    tipo;
    bonus;

    /**
     * Crea una instancia de Producto.
     * @param {string} nombre - Nombre del producto.
     * @param {number} precio - Precio inicial.
     * @param {string} rareza - Nivel de rareza.
     * @param {string} tipo - Tipo de estadística que afecta.
     * @param {number} bonus - Cantidad de puntos que suma a la estadística.
     */
    constructor(nombre, precio, rareza, tipo, bonus){
        this.nombre = nombre;
        this.precio = precio;
        this.rareza = rareza;
        this.tipo = tipo;
        this.bonus = bonus;
    }

    /**
     * Genera la representación HTML del producto para ser mostrada en la interfaz.
     * Traduce el 'tipo' interno a una etiqueta legible (Ataque, Defensa, Vida).
     * @returns {string} Bloque de código HTML con la información del producto.
     */
    mostrarProducto(){
        // Usamos el 'tipo' para describir qué da el bonus.
        let efectoBonus = '';
        switch(this.tipo){
            case 'Arma':
                efectoBonus = 'Ataque';
                break;
            case 'Armadura':
                efectoBonus = 'Defensa';
                break;
            case 'Consumible':
                efectoBonus = 'Vida';
                break;
            default:
                efectoBonus = 'Efecto Desconocido';
        }

        return `
            &lt;div class="info-producto">
                &lt;h4 class="prod-nombre">${this.nombre}&lt;/h4>
                &lt;span class="prod-tipo">${efectoBonus}: + ${this.bonus}&lt;/span>
                &lt;p class="prod-precio">${EUR.format(this.precio)}&lt;/p>
            &lt;/div>
        `;
    }

    /**
     * Crea una nueva instancia del producto con un precio rebajado.
     * El porcentaje se valida para que esté siempre en el rango [0, 100].
     * @param {number} porcentaje - El porcentaje de descuento a aplicar.
     * @returns {Producto} Una nueva instancia de Producto con el precio actualizado y redondeado.
     */
    aplicarDescuento(porcentaje){
        // Limita el porcentaje entre 0 y 100
        if(porcentaje &lt; 0) porcentaje = 0;
        if(porcentaje > 100) porcentaje = 100;

        // Calcula el nuevo precio (Ejemplo: 200 * (1 - 0.25))
        const nuevoPrecio = Math.round(this.precio * (1 - porcentaje / 100));

        return new Producto (this.nombre, nuevoPrecio, this.rareza, this.tipo, this.bonus);

    }
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Enemigo.html">Enemigo</a></li><li><a href="Jefe.html">Jefe</a></li><li><a href="Jugador.html">Jugador</a></li><li><a href="Producto.html">Producto</a></li></ul><h3>Global</h3><ul><li><a href="global.html#EUR">EUR</a></li><li><a href="global.html#agruparPorNivel">agruparPorNivel</a></li><li><a href="global.html#animacionMonedas">animacionMonedas</a></li><li><a href="global.html#animarCarrito">animarCarrito</a></li><li><a href="global.html#aplicarDescuentoPorRareza">aplicarDescuentoPorRareza</a></li><li><a href="global.html#batalla">batalla</a></li><li><a href="global.html#buscarProducto">buscarProducto</a></li><li><a href="global.html#escena1">escena1</a></li><li><a href="global.html#escena2">escena2</a></li><li><a href="global.html#escena3">escena3</a></li><li><a href="global.html#escena4">escena4</a></li><li><a href="global.html#escena5">escena5</a></li><li><a href="global.html#escena6">escena6</a></li><li><a href="global.html#escena7">escena7</a></li><li><a href="global.html#escena8">escena8</a></li><li><a href="global.html#filtrarPorRareza">filtrarPorRareza</a></li><li><a href="global.html#groupBy">groupBy</a></li><li><a href="global.html#iniciarJuego">iniciarJuego</a></li><li><a href="global.html#mercado">mercado</a></li><li><a href="global.html#obtenerImagen">obtenerImagen</a></li><li><a href="global.html#obtenerTodasLasRarezas">obtenerTodasLasRarezas</a></li><li><a href="global.html#refrescarVisualMonedero">refrescarVisualMonedero</a></li><li><a href="global.html#showScene">showScene</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.5</a> on Wed Jan 14 2026 10:30:57 GMT+0100 (hora estándar de Europa central)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
